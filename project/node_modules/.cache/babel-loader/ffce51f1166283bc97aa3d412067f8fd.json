{"remainingRequest":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/babel-loader/lib/index.js!/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/vue-rss-feed/src/components/Feed.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/vue-rss-feed/src/components/Feed.vue","mtime":1645708322539},{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/babel.config.js","mtime":1645519352861},{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/cache-loader/dist/cjs.js","mtime":1645519346369},{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/babel-loader/lib/index.js","mtime":1645519347253},{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/cache-loader/dist/cjs.js","mtime":1645519346369},{"path":"/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/vue-loader-v16/dist/index.js","mtime":1645519347241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3JvYmluL3Byb2plY3RzL3dlYmJ1dHZlY2tsaW5nMi9tb2R1bGUtcHJvamVjdC9ibGFkZWUvcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCBBcnRpY2xlIGZyb20gIi4vQXJ0aWNsZS52dWUiOwppbXBvcnQgUlNTUGFyc2VyIGZyb20gInJzcy1wYXJzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZlZWQiLAogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGU6IEFydGljbGUKICB9LAogIHByb3BzOiB7CiAgICBmZWVkVXJsOiBTdHJpbmcsCiAgICBuYW1lOiBTdHJpbmcsCiAgICBsaW1pdDogTnVtYmVyLAogICAgbG9hZE1vcmU6IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBlcnJvcjogIiIsCiAgICAgIGZlZWQ6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICB3YXRjaDogewogICAgZmVlZFVybDogZnVuY3Rpb24gZmVlZFVybCgpIHsKICAgICAgdGhpcy5mZXRjaERhdGEoKTsKICAgIH0sCiAgICBsaW1pdDogZnVuY3Rpb24gbGltaXQobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCAhPT0gb2xkVmFsKSB7CiAgICAgICAgdGhpcy5nZXRBcnRpY2xlcygpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGEsIHRleHQsIHBhcnNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5mZWVkID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKF90aGlzLmZlZWRVcmwpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEub2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS50ZXh0KCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICB0ZXh0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBSU1NQYXJzZXIoKTsKICAgICAgICAgICAgICAgIHBhcnNlci5wYXJzZVN0cmluZyh0ZXh0LCBmdW5jdGlvbiAoZXJyLCBwYXJzZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gIkVycm9yIG9jY3VyZWQgd2hpbGUgcGFyc2luZyBSU1MgRmVlZCAiLmNvbmNhdChlcnIudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmVlZCA9IHBhcnNlZDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gIkVycm9yIG9jY3VyZWQgd2hpbGUgZmV0Y2hpbmcgdGhlIGZlZWQiOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dC50MC50b1N0cmluZygpID09PSAiVHlwZUVycm9yOiBGYWlsZWQgdG8gZmV0Y2giKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gIkVycm9yIGR1ZSB0byBDT1JTIHBvbGljeSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9IF9jb250ZXh0LnQwLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QXJ0aWNsZXM6IGZ1bmN0aW9uIGdldEFydGljbGVzKCkgewogICAgICBpZiAodGhpcy5mZWVkLml0ZW1zICYmIHRoaXMuZmVlZC5pdGVtcykgewogICAgICAgIHJldHVybiB0aGlzLmZlZWQuaXRlbXMuc2xpY2UoMCwgdGhpcy5saW1pdCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;AAqBA,OAAOA,OAAP,MAAoB,eAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,MADO;AAEbC,YAAU,EAAE;AACVH,WAAM,EAANA;AADU,GAFC;AAKbI,OAAK,EAAE;AACLC,WAAO,EAAEC,MADJ;AAELJ,QAAI,EAAEI,MAFD;AAGLC,SAAK,EAAEC,MAHF;AAILC,YAAQ,EAAEC;AAJL,GALM;AAWbC,MAXa,kBAWN;AACL,WAAO;AACLC,aAAO,EAAE,IADJ;AAELC,WAAK,EAAE,EAFF;AAGLC,UAAI,EAAE;AAHD,KAAP;AAKD,GAjBY;AAkBbC,SAlBa,qBAkBH;AACR,SAAKC,SAAL;AACD,GApBY;AAqBbC,OAAK,EAAE;AACLZ,WADK,qBACK;AACR,WAAKW,SAAL;AACD,KAHI;AAILT,SAJK,iBAICW,MAJD,EAISC,MAJT,EAIiB;AACpB,UAAID,MAAK,KAAMC,MAAf,EAAuB;AACrB,aAAKC,WAAL;AACF;AACF;AARK,GArBM;AA+BbC,SAAO,EAAE;AACDL,aADC,uBACW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,qBAAI,CAACH,KAAL,GAAa,EAAb;AACA,qBAAI,CAACD,OAAL,GAAe,IAAf;AACA,qBAAI,CAACE,IAAL,GAAY,EAAZ;AAHgB;AAAA;AAAA,uBAKKQ,KAAK,CAAC,KAAI,CAACjB,OAAN,CALV;;AAAA;AAKRM,oBALQ;;AAAA,qBAMVA,IAAI,CAACY,EANK;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAOOZ,IAAI,CAACa,IAAL,EAPP;;AAAA;AAONA,oBAPM;AAQNC,sBARM,GAQG,IAAIxB,SAAJ,EARH;AASZwB,sBAAM,CAACC,WAAP,CAAmBF,IAAnB,EAAyB,UAACG,GAAD,EAAMC,MAAN,EAAiB;AACxC,uBAAI,CAAChB,OAAL,GAAe,KAAf;;AACA,sBAAIe,GAAJ,EAAS;AACP,yBAAI,CAACd,KAAL,kDAAqDc,GAAG,CAACE,QAAJ,EAArD;AACF,mBAFA,MAEO;AACL,yBAAI,CAACf,IAAL,GAAYc,MAAZ;AACF;AACD,iBAPD;AATY;AAAA;;AAAA;AAkBZ,qBAAI,CAACf,KAAL,GAAa,uCAAb;AACA,qBAAI,CAACD,OAAL,GAAe,KAAf;;AAnBY;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAsBd,oBAAI,YAAEiB,QAAF,OAAiB,4BAArB,EAAmD;AACjD,uBAAI,CAAChB,KAAL,GAAa,0BAAb;AACF,iBAFA,MAEO;AACL,uBAAI,CAACA,KAAL,GAAa,YAAEgB,QAAF,EAAb;AACF;;AACA,qBAAI,CAACjB,OAAL,GAAe,KAAf;;AA3Bc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BjB,KA9BM;AA+BPQ,eA/BO,yBA+BO;AACZ,UAAI,KAAKN,IAAL,CAAUgB,KAAV,IAAmB,KAAKhB,IAAL,CAAUgB,KAAjC,EAAwC;AACtC,eAAO,KAAKhB,IAAL,CAAUgB,KAAV,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,KAAKxB,KAA9B,CAAP;AACF;AACF;AAnCO;AA/BI,CAAf","names":["Article","RSSParser","name","components","props","feedUrl","String","limit","Number","loadMore","Boolean","data","loading","error","feed","created","fetchData","watch","newVal","oldVal","getArticles","methods","fetch","ok","text","parser","parseString","err","parsed","toString","items","slice"],"sourceRoot":"","sources":["/home/robin/projects/webbutveckling2/module-project/bladee/project/node_modules/vue-rss-feed/src/components/Feed.vue"],"sourcesContent":["<template>\n  <div v-if=\"error\" class=\"error\">{{error}}</div>\n  <div v-else class=\"feed\">\n    <h1 v-if=\"name\">{{name}}</h1>\n    <h1 v-else>{{feed.title}}</h1>\n    <div v-if=\"loading\" class=\"spinner\">\n      <div class=\"bounce1\"></div>\n      <div class=\"bounce2\"></div>\n      <div class=\"bounce3\"></div>\n    </div>\n    <div class=\"articles-container\">\n      <Article\n        v-for=\"(article, index) of getArticles()\"\n        v-bind:key=\"index\"\n        v-bind:article=\"article\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Article from \"./Article.vue\";\nimport RSSParser from \"rss-parser\";\n\nexport default {\n  name: \"Feed\",\n  components: {\n    Article\n  },\n  props: {\n    feedUrl: String,\n    name: String,\n    limit: Number,\n    loadMore: Boolean\n  },\n  data() {\n    return {\n      loading: true,\n      error: \"\",\n      feed: {}\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  watch: {\n    feedUrl() {\n      this.fetchData();\n    },\n    limit(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.getArticles();\n      }\n    }\n  },\n  methods: {\n    async fetchData() {\n      this.error = \"\";\n      this.loading = true;\n      this.feed = {};\n      try {\n        const data = await fetch(this.feedUrl);\n        if (data.ok) {\n          const text = await data.text();\n          const parser = new RSSParser();\n          parser.parseString(text, (err, parsed) => {\n            this.loading = false;\n            if (err) {\n              this.error = `Error occured while parsing RSS Feed ${err.toString()}`;\n            } else {\n              this.feed = parsed;\n            }\n          });\n        } else {\n          this.error = \"Error occured while fetching the feed\";\n          this.loading = false;\n        }\n      } catch (e) {\n        if (e.toString() === \"TypeError: Failed to fetch\") {\n          this.error = \"Error due to CORS policy\";\n        } else {\n          this.error = e.toString();\n        }\n        this.loading = false;\n      }\n    },\n    getArticles() {\n      if (this.feed.items && this.feed.items) {\n        return this.feed.items.slice(0, this.limit);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nh1 {\n  margin: 5px;\n  font-size: 20px;\n}\n.feed {\n  text-align: left;\n}\na {\n  color: #42b983;\n}\n/* CSS Spinner */\n.spinner {\n  margin: 40px auto 0;\n  width: 150px;\n  text-align: center;\n}\n\n.error {\n  color: red;\n}\n\n.spinner > div {\n  width: 18px;\n  height: 18px;\n  /* background-color: #ff641b; */\n  background-color: #42b983;\n  background-color: #777;\n  margin-right: 10px;\n\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n\n.spinner .bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@-webkit-keyframes sk-bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n\n@keyframes sk-bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n</style>\n"]}]}